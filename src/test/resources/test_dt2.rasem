# This Delaunay Triangulation example is a slight modification of the one at
# https://www.mathworks.com/help/matlab/examples/creating-and-editing-delaunay-triangulations.html

self.width = 100 + 20
self.height = 100 + 20

points = [
  [11, 89], # 0
  [18, 69], # 1
  [22, 25], # 2
  [27, 75], # 3
  [34, 13], # 4
  [49, 95], # 5
  [58, 14], # 6
  [65, 50], # 7
  [75, 25], # 8
  [95, 54], # 9
]


triangles = [
  7, 4, 6,
  2, 1, 0,
  1, 3, 0,
  3, 5, 0,
  7, 2, 4,
  3, 7, 5,
  5, 7, 9,
  8, 9, 7,
  8, 7, 6,
  3, 1, 7,
  7, 1, 2,
]

for point in points do
  x = point[0]
  y = point[1]
  circle x, y, 1
  sorted_position = points.index(point)
  text(x, y+10) { raw "#{sorted_position}"}
end

0.step(triangles.length-1, 3) do |i_triangle|
  corners = triangles[i_triangle, 3].map{|i| points[i]}
  polygon(*(corners.flatten), :fill=>:none)
end