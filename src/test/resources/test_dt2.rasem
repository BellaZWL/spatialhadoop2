# This Delaunay Triangulation example is a slight modification of the one at
# https://www.mathworks.com/help/matlab/examples/creating-and-editing-delaunay-triangulations.html

self.width = 100 + 20
self.height = 100 + 20

points = [
  [27, 75],
  [75, 25],
  [65, 50],
  [18, 69],
  [11, 89],
  [49, 95],
  [95, 54],
  [34, 13],
  [58, 14],
  [22, 25],
]

triangles = [
  2, 7, 8,
  9, 3, 4,
  3, 0, 4,
  0, 5, 4,
  2, 9, 7,
  0, 2, 5,
  5, 2, 6,
  1, 6, 2,
  1, 2, 8,
  0, 3, 2,
  2, 3, 9,
]

for point in points do
  x = point[0]
  y = point[1]
  circle x, y, 1
  sorted_position = points.sort.index(point)
  text(x, y+10) { raw "#{sorted_position}"}
end

0.step(triangles.length-1, 3) do |i_triangle|
  corners = triangles[i_triangle, 3].map{|i| points[i]}
  polygon(*(corners.flatten), :fill=>:none)
end